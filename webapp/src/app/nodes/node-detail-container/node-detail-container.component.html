<div class="p-2 bg-header">
  <div class="row">
    <div class="col-md flex-items-xs-middle media">
      <a routerLink="/nodes">
        <clr-icon shape="circle-arrow" class="is-highlight" size="28" dir="left"></clr-icon>
      </a>
      <h2 class="mt-0 pl-1">GAV-324V AAC Application Node</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md">
      <p class="p7 mt-0">
        {{'nodes.location' | translate}}
      </p>
      <p class="mt-0">New York, NY</p>
    </div>
    <div class="col-md">
      <p class="p7 mt-0">
        {{'nodes.nodeOwners' | translate}}
      </p>
      <p class="mt-0">Allen, J</p>
      <p class="mt-0">Dickerson, B</p>
      <p class="mt-0">McCready, M</p>
    </div>
    <div class="col-md">
      <p class="p7 mt-0">
        {{'nodes.overallNodeHealth' | translate}}
      </p>
      <h2 class="mt-0">74%</h2>
      <div class="progress warning">
        <progress max="100" [value]="74"></progress>
      </div>
    </div>
    <div class="col-md">
      <p class="p7 mt-0">
        {{'nodes.transactionsPerSecond' | translate}}
      </p>
      <h2 class="mt-0">189</h2>
      <div class="progress-with-point">
        <div class="progress black">
          <progress max="100" [value]="50"></progress>
        </div>
        <div class="progress-point danger"></div>
      </div>
      <p class="p7 detail-sub-stat text-center">
        {{ 'nodes.averageXPerSecond' | translate: {value: 210} }}
      </p>
    </div>
    <div class="col-md">
      <p class="p7 mt-0">
        {{'nodes.averageValidationTime' | translate}}
      </p>
      <h2 class="mt-0" [innerHTML]="'nodes.xSeconds' | translate:{seconds: 2.28}"></h2>
      <div class="progress-with-point">
        <div class="progress black">
          <progress max="100" [value]="50"></progress>
        </div>
        <div class="progress-point success"></div>
      </div>
      <p class="p7 detail-sub-stat text-center">
        {{ 'nodes.averageXSeconds' | translate: {value: 2.58} }}
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <h3 class="mb-1">{{'nodes.network' | translate}}</h3>
      <img class="graph-placeholder" src="assets/static/images/network-timeline.png">
    </div>
    <div class="col-md-6">
      <h3 class="mb-1">{{'nodes.nodeActivity' | translate}}</h3>
      <img class="graph-placeholder" src="assets/static/images/node-activity-small.png">
    </div>
    <div class="col-md-6">
      <h3 class="mb-1">{{'nodes.nodeLocation' | translate}}</h3>
      <img class="graph-placeholder" src="assets/static/images/node-location-small.png">
    </div>
  </div>
</div>

<div class="p-2">
  <div class="row">
    <div class="col-xs-6">
      <h3 class="mt-0">{{'transactions.transactions' | translate}}</h3>
    </div>
    <div class="col-xs-6">
      <div class="form-group text-right">
        <input type="text" [attr.placeholder]="'nodes.searchPlaceholder' | translate" />
        <button type="button" class="btn btn-primary" (click)="onOpenFilterModal()">{{'nodes.filters' | translate}}</button>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <table class="table">
        <thead>
        <tr>
          <th class="left">{{'transactions.hash' | translate}}</th>
          <th>{{'transactions.nonce' | translate}}</th>
          <th>{{'transactions.status' | translate}}</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let transaction of recentTransactions">
          <td class="left">{{transaction.hash}}</td>
          <td>{{transaction.nonce}}</td>
          <td>{{(transaction?.status ? 'transactions.success' : 'transactions.failure') | translate}}</td>
          <td>
            <clr-dropdown [clrCloseMenuOnItemClick]="false">
              <button type="button" clrDropdownTrigger>
                <clr-icon shape="ellipsis-horizontal" size="16"></clr-icon>
              </button>
              <clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">
                <a clrDropdownItem [routerLink]="['/blocks', transaction.blockNumber, 'transactions', transaction.hash]">
                  {{'blocks.viewDetail' | translate}}
                </a>
              </clr-dropdown-menu>
            </clr-dropdown>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<app-transaction-filters-modal #filterModal (applyFilters)="onApplyFilters()"></app-transaction-filters-modal>
