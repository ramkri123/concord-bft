<h2 class="page-title">
  {{ (isNewZoneState ? 'onPrem.pageTitle' : 'zones.titleDetail') | translate }} {{ zoneName }}
</h2>
<div class="clr-row">
  <div class="clr-col-12">
    <div class="card">
      <div class="card-block">
        <concord-zone-form #form></concord-zone-form>
      </div>
      <div class="card-footer" *concordCanView="[personas.SystemsAdmin, personas.ConsortiumAdmin]">
        <button *ngIf="!isNewZoneState" (click)="update()" [clrLoading]="saving" class="btn btn-primary">
          {{ 'common.update' | translate }}
        </button>
        <button *ngIf="isNewZoneState" (click)="addZone()" class="btn btn-primary" [clrLoading]="saving" [disabled]="!zoneForm.onPremConnectionSuccessful || zoneForm.form.controls.onPrem.invalid || zoneForm.form.controls.onPremLocation.invalid">
          {{ 'common.add' | translate }}
        </button>
        <ng-container *ngIf="!isNewZoneState">
          <button (click)="openConfirmDelete()" [clrLoading]="deleting" *concordCanView="[personas.SystemsAdmin, personas.ConsortiumAdmin]" class="btn btn-outline-danger">
            {{ 'common.delete' | translate }}
          </button>
        </ng-container>
      </div>
    </div>
  </div>
</div>

<concord-confirm-modal #confirm></concord-confirm-modal>
